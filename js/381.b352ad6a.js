"use strict";(self["webpackChunkconstellation"]=self["webpackChunkconstellation"]||[]).push([[381],{23070:function(e,t,i){i.d(t,{Z:function(){return x}});var a=i(6348),n=i(35173),s=i(86283),r=i(70060),o=i(7186),u=i(7656),l=i(55051),c=i(80675),g=i(62067),m=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(r.Z,{attrs:{"max-width":"900"},scopedSlots:e._u([{key:"activator",fn:function({on:t,attrs:i}){return[e._t("activator",null,null,{on:t,attrs:i})]}}],null,!0),model:{value:e.dialogue,callback:function(t){e.dialogue=t},expression:"dialogue"}},[t(n.Z,[t(s.EB,[e._v(" "+e._s(e.$t(e.titre))+" "),t(g.Z),t(a.Z,{attrs:{icon:""},on:{click:function(t){e.dialogue=!1}}},[t(u.Z,[e._v("mdi-close")])],1)],1),t(s.Qq,[e._v(" "+e._s(e.$t(e.sousTitre))+" ")]),t(o.Z),t(s.ZB,[t("item-nouveau-nom",{attrs:{languesExistantes:Object.keys(this.noms),etiquetteLangue:e.etiquetteLangue,etiquetteNom:e.etiquetteNom},on:{sauvegarder:t=>e.$emit("sauvegarder",t)}}),t(o.Z),t(c.Z,{staticClass:"overflow-y-auto",staticStyle:{"max-height":"300px"}},[e._l(e.noms,(function(i,a){return t("item-nom",{key:a,attrs:{nomOriginal:i,langueOriginaleNom:a},on:{sauvegarder:t=>e.$emit("sauvegarder",t),effacer:t=>e.$emit("effacer",t),changerLangue:t=>e.$emit("changerLangue",t)}})})),Object.keys(e.noms).length?e._e():t("div",{staticClass:"text-center"},[t("p",{staticClass:"text-h5 mt-5"},[e._v(" "+e._s(e.$t(e.etiquetteAucunNom))+" ")]),t(l.Z,{staticClass:"my-5",attrs:{src:e.image("vide"),contain:"",height:"175px"}})],1)],2)],1),t(s.h7,[t(g.Z),t(a.Z,{attrs:{color:"primary",depressed:""},on:{click:function(t){e.dialogue=!1}}},[e._v(" "+e._s(e.$t("communs.sauvegarder"))+" ")])],1)],1)],1)},d=[],f=i(40326),v=i(71378),h=i(97840),p=i(80577),b=i(80708),_=(0,f.Z)(v.Z,h.Z).extend({name:"DialogueNoms",components:{itemNom:p.Z,itemNouveauNom:b.Z},props:{noms:Object,titre:{type:String,default:"boîteNoms.titre"},sousTitre:{type:String,default:"boîteNoms.sousTitre"},etiquetteNom:{type:String,default:"boîteNoms.étiquetteNom"},etiquetteLangue:{type:String,default:"boîteNoms.étiquetteLangue"},etiquetteAucunNom:{type:String,default:"boîteNoms.étiquetteAucunNom"}},mixins:[v.Z],data:function(){return{dialogue:!1}},computed:{itemsLangues:function(){return this.langues.filter((e=>!Object.keys(this.noms).includes(e))).map((e=>({text:this.nomDeLangue(e)||e,value:e})))}}}),Z=_,N=i(43736),y=(0,N.Z)(Z,m,d,!1,null,null,null),x=y.exports},80577:function(e,t,i){i.d(t,{Z:function(){return Z}});var a=i(46435),n=i(6348),s=i(56653),r=i(7656),o=i(52275),u=i(9721),l=i(4140),c=i(69096),g=i(16498),m=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(o.Z,[t(l.km,[t(c.Z,[t(s.Z,{attrs:{cols:"4"}},[t(a.Z,{attrs:{outlined:"",dense:"","hide-details":"",items:e.itemsLangues},on:{change:e.changerLangue},model:{value:e.lng,callback:function(t){e.lng=t},expression:"lng"}})],1),t(s.Z,{attrs:{cols:"8"}},[t(g.Z,{attrs:{outlined:"",dense:"","hide-details":"",dir:e.droiteÀGauche(e.lng)?"rtl":"ltr"},on:{blur:e.sauvegarder,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sauvegarder.apply(null,arguments)}},model:{value:e.nom,callback:function(t){e.nom=t},expression:"nom"}})],1)],1)],1),t(u.Z,[t(n.Z,{attrs:{icon:"",color:"error"}},[t(r.Z,{on:{click:e.effacer}},[e._v("mdi-delete")])],1)],1)],1)},d=[],f=i(40326),v=i(71378),h=(0,f.Z)(v.Z).extend({name:"itemNom",props:["langueOriginaleNom","nomOriginal"],mixins:[v.Z],data:function(){return{lng:"",nom:""}},computed:{itemsLangues:function(){return this.langues.map((e=>({text:this.nomDeLangue(e)||e,value:e})))}},methods:{sauvegarder:function(){this.lng===this.langueOriginaleNom&&this.nom===this.nomOriginal||(this.lng!==this.langueOriginaleNom&&this.effacer(),""===this.nom?this.effacer():this.$emit("sauvegarder",{langue:this.lng,nom:this.nom}))},changerLangue:function(){this.$emit("changerLangue",{langueOriginale:this.langueOriginaleNom,langue:this.lng,nom:this.nom})},effacer:function(){this.$emit("effacer",{langue:this.lng})}},mounted:function(){this.lng=this.langueOriginaleNom,this.nom=this.nomOriginal}}),p=h,b=i(43736),_=(0,b.Z)(p,m,d,!1,null,null,null),Z=_.exports},80708:function(e,t,i){i.d(t,{Z:function(){return Z}});var a=i(46435),n=i(6348),s=i(56653),r=i(7656),o=i(52275),u=i(9721),l=i(4140),c=i(69096),g=i(16498),m=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(o.Z,[t(l.km,[t(c.Z,[t(s.Z,{attrs:{cols:"4"}},[t(a.Z,{attrs:{items:e.itemsLangues,label:e.$t(e.etiquetteLangue),outlined:"",dense:"","hide-details":"","offset-x":""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.ajouter.apply(null,arguments)},blur:e.ajouter},model:{value:e.langueNouveauNom,callback:function(t){e.langueNouveauNom=t},expression:"langueNouveauNom"}})],1),t(s.Z,{attrs:{cols:"8"}},[t(g.Z,{attrs:{label:e.$t(e.etiquetteNom),dir:e.droiteÀGauche(e.langueNouveauNom)?"rtl":"ltr",outlined:"",dense:"","hide-details":""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.ajouter.apply(null,arguments)},blur:e.ajouter},model:{value:e.nouveauNom,callback:function(t){e.nouveauNom=t},expression:"nouveauNom"}})],1)],1)],1),t(u.Z,[t(n.Z,{attrs:{icon:"",color:"success",disabled:!e.prêt},on:{click:function(t){return e.ajouter(e.langueNouveauNom,e.nouveauNom)}}},[t(r.Z,[e._v("mdi-check")])],1)],1)],1)},d=[],f=i(40326),v=i(71378),h=(0,f.Z)(v.Z).extend({name:"itemNouveauNom",props:["languesExistantes","etiquetteLangue","etiquetteNom"],mixins:[v.Z],data:function(){return{langueNouveauNom:void 0,nouveauNom:void 0}},computed:{"prêt":function(){return Boolean(this.langueNouveauNom&&this.nouveauNom)},itemsLangues:function(){return this.langues.filter((e=>!this.languesExistantes.includes(e))).map((e=>({text:this.nomDeLangue(e)||e,value:e})))}},methods:{ajouter(){this.prêt&&(this.sélectionnerLangue(this.langueNouveauNom),this.$emit("sauvegarder",{langue:this.langueNouveauNom,nom:this.nouveauNom}),this.langueNouveauNom=this.nouveauNom="")}},mounted:function(){this.langueNouveauNom=this.languesRécentes.find((e=>!this.languesExistantes.includes(e)))},beforeUpdate:function(){this.langueNouveauNom||(this.langueNouveauNom=this.languesRécentes.find((e=>!this.languesExistantes.includes(e))))}}),p=h,b=i(43736),_=(0,b.Z)(p,m,d,!1,null,null,null),Z=_.exports},89305:function(e,t,i){i.d(t,{Z:function(){return h}});var a=i(7656),n=i(52275),s=i(71582),r=i(4140),o=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(n.Z,e._g(e._b({},"v-list-item",e.$attrs,!1),e.$listeners),[t(s.Z,[t(a.Z,[e._v(e._s(e.icône))])],1),t(r.km,["bornes"===e.regle.règle.typeRègle?t("span",[e._v(" "+e._s(e.regle)+" "+e._s(e.nomVariable)+" "+e._s(e.regle.règle.détails.op)+" "),e.editable?t("v-text-input"):t("span",[e._v(e._s(e.$t("itemListeRègles.catégorie.descr",{nomVariable:e.nomVariable,cat:e.regle.règle.détails.val})))])],1):e._e(),"catégorie"===e.regle.règle.typeRègle?t("span",[e._v(" "+e._s(e.nomVariable)+" "),e.editable?t("v-text-input"):t("span",[e._v(e._s(e.$t("itemListeRègles.catégorie.descr",{nomVariable:e.nomVariable,cat:e.regle.règle.détails.catégorie})))])],1):e._e()])],1)},u=[],l=i(40326),c=i(71378),g=i(69698),m=(0,l.Z)(c.Z).extend({name:"itemListeRègles",props:{regle:{type:Object},editable:Boolean,nomVariable:String},data:function(){return{nomsVar:{},"icôneCatégorieVariable":g.cA}},computed:{"icône":function(){switch(this.regle.règle.typeRègle){case"catégorie":return(0,g.cA)(this.regle.règle.détails.catégorie);case"bornes":return"mdi-view-list";case"valeurCatégorique":return"mdi-view-list";case"existe":return"mdi-view-list";default:return"mdi-xml"}}}}),d=m,f=i(43736),v=(0,f.Z)(d,o,u,!1,null,null,null),h=v.exports},19381:function(e,t,i){i.d(t,{Z:function(){return C}});var a=i(6348),n=i(35173),s=i(86283),r=i(69165),o=i(70060),u=i(7186),l=i(7656),c=i(80675),g=i(25729),m=i(62067),d=i(18043),f=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(o.Z,{attrs:{scrollable:"","max-width":"400"},scopedSlots:e._u([{key:"activator",fn:function({on:t,attrs:i}){return[e._t("activator",null,null,{on:t,attrs:i})]}}],null,!0),model:{value:e.dialogue,callback:function(t){e.dialogue=t},expression:"dialogue"}},[t(n.Z,[t(s.EB,[t("texteTronqué",{attrs:{texte:e.nom,longueurMax:20}}),e.permissionÉcrire?t("span",[t("boîteNoms",{attrs:{noms:e.noms,titre:"bd.vis.boîteDescr.titre",etiquetteAucunNom:"variables.boîteNoms.aucunNom"},on:{sauvegarder:e.sauvegarderNom,changerLangue:e.changerLangueNom,effacer:e.effacerNom},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:n}){return[t(a.Z,e._g(e._b({attrs:{icon:"",small:""}},"v-btn",n,!1),i),[t(l.Z,{attrs:{small:""}},[e._v("mdi-pencil")])],1)]}}],null,!1,355732290)})],1):e._e(),t(m.Z),t("lien-orbite",{attrs:{lien:e.id}})],1),t(s.Qq,[e._v(" "+e._s(e.description?e.description:e.$t("bd.visBD.விளக்கம்"))+" "),e.permissionÉcrire?t("span",[t("boîteNoms",{attrs:{noms:e.descriptions,titre:"bd.vis.boîteDescr.titre",etiquetteAucunNom:"bd.vis.boîteNoms.aucuneDescription"},on:{sauvegarder:e.sauvegarderDescr,changerLangue:e.changerLangueDescr,effacer:e.effacerDescr},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:n}){return[t(a.Z,e._g(e._b({attrs:{icon:"",small:""}},"v-btn",n,!1),i),[t(l.Z,{attrs:{small:""}},[e._v("mdi-pencil")])],1)]}}],null,!1,355732290)})],1):e._e()]),t(u.Z),t(s.ZB,[e._e(),t("p",{staticClass:"mb-0 text-overline"},[e._v(" "+e._s(e.$t("carteVariable.Catégorie"))+" "),t(g.Z,{attrs:{outlined:"",dense:"",items:e.catégoriesVariable,disable:!e.permissionÉcrire},on:{change:e.sauvegarderCategorie},scopedSlots:e._u([{key:"selection",fn:function(){return[void 0!==e.catégorie?t(d.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:a}){return[t(r.Z,e._g(e._b({attrs:{label:"",outlined:"",small:""}},"v-chip",a,!1),i),[t(l.Z,{attrs:{left:"",small:""}},[e._v(e._s(e.icôneCatégorie))]),e._v(" "+e._s(e.$t("variables.catégories."+e.catégorie))+" ")],1)]}}],null,!1,3108084228)},[t("span",[e._v(" "+e._s(e.$t("variables.catégories.info."+e.catégorie))+" ")])]):e._e()]},proxy:!0},{key:"item",fn:function({item:i,on:a,attrs:n}){return[t("itemListeCatégories",e._g(e._b({attrs:{categorie:i}},"itemListeCatégories",n,!1),a))]}}]),model:{value:e.catégorie,callback:function(t){e.catégorie=t},expression:"catégorie"}})],1),t("p",{staticClass:"text-overline mb-0"},[e._v(" "+e._s(e.$t("dialogueNouvelleVariable.règles"))+" ")]),t(c.Z,e._l(e.règles,(function(i){return t("itemListeRègle",{key:i.id,attrs:{regle:i,nomVariable:e.nom}})})),1)],1),t(u.Z),t(s.h7,[t(m.Z),t(a.Z,{attrs:{color:"secondary",text:"",outlined:""},on:{click:function(t){e.dialogue=!1}}},[e._v(" "+e._s(e.$t("communs.fermer"))+" ")])],1)],1)],1)},v=[],h=i(40326),p=i(69698),b=i(54272),_=i(4497),Z=i(71378),N=i(23070),y=i(89305),x=i(96869),k=i(60724),$=(0,h.Z)(Z.Z,_.Z).extend({name:"dialogueInfoVariable",props:["id"],mixins:[Z.Z,_.Z],components:{lienOrbite:b.Z,"boîteNoms":N.Z,"itemListeRègle":y.Z,"itemListeCatégories":x.Z,"texteTronqué":k.Z},data:function(){return{dialogue:!1,noms:{},descriptions:{},"unités":void 0,"règles":[],"catégorie":void 0,"permissionÉcrire":!1,"catégoriesVariable":p.qG}},computed:{nom:function(){return Object.keys(this.noms).length?(0,p.BK)(this.noms,this.languesPréférées):this.id},description:function(){return Object.keys(this.descriptions).length?(0,p.BK)(this.descriptions,this.languesPréférées):""},"icôneCatégorie":function(){return this.catégorie?(0,p.cA)(this.catégorie):""}},methods:{sauvegarderNom:async function({langue:e,nom:t}){await this.$ipa.variables.ajouterNomsVariable({id:this.id,noms:{[e]:t}})},effacerNom:async function({langue:e}){await this.$ipa.variables.effacerNomVariable({id:this.id,langue:e})},changerLangueNom:async function({langueOriginale:e,langue:t,nom:i}){await this.$ipa.variables.effacerNomVariable({id:this.id,langue:e}),await this.$ipa.variables.ajouterNomsVariable({id:this.id,noms:{[t]:i}})},sauvegarderDescr:async function({langue:e,nom:t}){await this.$ipa.variables.ajouterDescriptionsVariable({id:this.id,descriptions:{[e]:t}})},effacerDescr:async function({langue:e}){await this.$ipa.variables.effacerDescrVariable({id:this.id,langue:e})},changerLangueDescr:async function({langueOriginale:e,langue:t,nom:i}){await this.$ipa.variables.effacerDescrVariable({id:this.id,langue:e}),await this.$ipa.variables.ajouterDescriptionsVariable({id:this.id,descriptions:{[t]:i}})},sauvegarderCategorie:async function(e){await this.$ipa.variables.sauvegarderCatégorieVariable({idVariable:this.id,"catégorie":e})},initialiserSuivi:async function(){const e=await this.$ipa.suivrePermissionÉcrire({id:this.id,f:e=>this.permissionÉcrire=e}),t=await this.$ipa.variables.suivreNomsVariable({id:this.id,f:e=>{this.noms=e}}),i=await this.$ipa.variables.suivreDescrVariable({id:this.id,f:e=>{this.descriptions=e}}),a=await this.$ipa.variables.suivreCatégorieVariable({id:this.id,f:e=>{this.catégorie=e}}),n=await this.$ipa.variables.suivreUnitésVariable({id:this.id,f:e=>{this.unités=e}}),s=await this.$ipa.variables.suivreRèglesVariable({id:this.id,f:e=>{this.règles=e}});this.suivre([e,t,i,a,n,s])}}}),L=$,V=i(43736),w=(0,V.Z)(L,f,v,!1,null,null,null),C=w.exports},96869:function(e,t,i){i.d(t,{Z:function(){return h}});var a=i(7656),n=i(52275),s=i(71582),r=i(4140),o=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(n.Z,[t(s.Z,[t(a.Z,[e._v(e._s(e.icône))])],1),t(r.km,[e._v(" "+e._s(e.$t(`variables.catégories.${e.categorie}`))+" "),t(r.oZ,[e._v(" "+e._s(e.$t("variables.catégories.info."+e.categorie))+" ")])],1)],1)},u=[],l=i(40326),c=i(71378),g=i(69698),m=(0,l.Z)(c.Z).extend({name:"itemListeCatégories",props:{categorie:{type:String}},computed:{"icône":function(){return(0,g.cA)(this.categorie)}}}),d=m,f=i(43736),v=(0,f.Z)(d,o,u,!1,null,null,null),h=v.exports}}]);